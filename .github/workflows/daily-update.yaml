name: Daily README Update

on:
  schedule:
    # UTC 12:00'de her gÃ¼n Ã§alÄ±ÅŸÄ±r (TÃ¼rkiye saati ile 15:00)
    - cron: '0 12 * * *'
  
  # Manuel tetikleme iÃ§in (test amaÃ§lÄ±)
  workflow_dispatch:

jobs:
  update-readme:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout repository
      uses: actions/checkout@v4
      with:
        token: ${{ secrets.PAT_TOKEN }}
    
    - name: Set up Git
      run: |
        git config --local user.email "action@github.com"
        git config --local user.name "GitHub Action Bot"
    
    - name: Update README
      run: |
        # Mevcut README'yi yedekle
        if [ -f README.md ]; then
          cp README.md README.backup.md
        fi
        
        # Tarih ve saat bilgisini al (UTC+0)
        CURRENT_DATE=$(TZ=UTC date '+%Y-%m-%d')
        CURRENT_TIME=$(TZ=UTC date '+%H:%M:%S')
        CURRENT_DATETIME=$(TZ=UTC date '+%Y-%m-%d %H:%M:%S UTC')
        
        # README dosyasÄ±nÄ± oluÅŸtur veya gÃ¼ncelle
        cat > README.md << 'EOF'
# ğŸ¤– Otomatik GÃ¼ncellenen Repository

Bu repository her gÃ¼n UTC 12:00'de otomatik olarak gÃ¼ncellenir.

## ğŸ“… Son GÃ¼ncelleme

**Tarih:** `DATE_PLACEHOLDER`  
**Saat:** `TIME_PLACEHOLDER`  
**Tam Zaman:** `DATETIME_PLACEHOLDER`

---

### ğŸ”„ GÃ¼ncelleme GeÃ§miÅŸi

Son gÃ¼ncelleme GitHub Actions tarafÄ±ndan otomatik olarak gerÃ§ekleÅŸtirildi.

### âš™ï¸ NasÄ±l Ã‡alÄ±ÅŸÄ±r?

Bu repository GitHub Actions kullanarak her gÃ¼n belirlenen saatte:
1. README.md dosyasÄ±nÄ± gÃ¼nceller
2. Yeni tarih ve saat bilgisini ekler
3. DeÄŸiÅŸiklikleri otomatik olarak commit eder ve push yapar

### ğŸ“ Notlar

- GÃ¼ncelleme zamanÄ±: Her gÃ¼n UTC 12:00
- Timezone: UTC+0
- Bot: GitHub Action Bot

---

*Bu dosya otomatik olarak gÃ¼ncellenmiÅŸtir.*
EOF
        
        # Placeholder'larÄ± gerÃ§ek deÄŸerlerle deÄŸiÅŸtir
        sed -i "s/DATE_PLACEHOLDER/$CURRENT_DATE/g" README.md
        sed -i "s/TIME_PLACEHOLDER/$CURRENT_TIME/g" README.md
        sed -i "s/DATETIME_PLACEHOLDER/$CURRENT_DATETIME/g" README.md
        
        # GÃ¼ncelleme logunu ekle (opsiyonel)
        echo "" >> README.md
        echo "<!-- Last update: $CURRENT_DATETIME -->" >> README.md
    
    - name: Commit and push changes
      run: |
        # DeÄŸiÅŸiklik olup olmadÄ±ÄŸÄ±nÄ± kontrol et
        if [[ -n $(git status -s) ]]; then
          git add README.md
          git commit -m "ğŸ¤– Otomatik gÃ¼ncelleme: $(TZ=UTC date '+%Y-%m-%d %H:%M:%S UTC')"
          git push
          echo "âœ… README baÅŸarÄ±yla gÃ¼ncellendi!"
        else
          echo "â„¹ï¸ DeÄŸiÅŸiklik yok, gÃ¼ncelleme atlandÄ±."
        fi